- if history.count == 0
  %h2 There are no messages yet in this discussion.
- else
  - history.each do |message|
    - if message.is_a?(Comment)
      = render message
    - if message.is_a?(Vote)
      .comment.position
        .position
          = render partial: "motions/display_icons", locals: { position: message.position }
        %span
          .comment-username= link_to(message.user_name, "#")
          .position-message
            - if message.statement.present?
              = "#{message.statement}"
            - else
              = " "
        .comment-time
          = time_ago_in_words(message.created_at) + " ago"
    - if message.is_a?(Motion)
      - classes = "comment proposal panel"
      - classes += " current" if (message == discussion.current_motion)
      %div{class: classes}
        %span
          .comment-username= link_to(message.author_name, "#")
          .proposal-label created a proposal
          .proposal-text= message.name
        .comment-time
          = time_ago_in_words(message.created_at) + " ago"
